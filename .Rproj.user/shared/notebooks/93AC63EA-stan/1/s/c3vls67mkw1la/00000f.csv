"0","set.seed(1)"
"0",""
"0","n <- 1000"
"0",""
"0","# simulate covariates (just a binary treatment indicator)"
"0","A <- rbinom(n, 1, .5)"
"0","X <- model.matrix(~ A)"
"0",""
"0","# true parameters"
"0","true_beta <- (1/2)*matrix(c(-1/3, 2), ncol=1)"
"0","true_mu <- X %*% true_beta"
"0",""
"0","true_sigma <- 1"
"0",""
"0","true_alpha <- 1/true_sigma"
"0","true_lambda <- exp(-1*true_mu*true_alpha)"
"0",""
"0","# simulate censoring and survival times"
"0","survt = rweibull(n, shape=true_alpha, scale = true_lambda) "
"0","cent = rweibull(n, shape=true_alpha, scale = true_lambda)"
"0",""
"0","## observed data:"
"0","#censoring indicator"
"0","delta <- cent < survt"
"0","survt[delta==1] <- cent[delta==1] # censor survival time."
"0",""
"0","# count number of missing/censored survival times"
"0","n_miss <- sum(delta)"
"0",""
"0","d_list <- list(N_m = n_miss, N_o = n - n_miss, P=2, # number of betas"
"0","               # data for censored subjects"
"0","               y_m=survt[delta==1], X_m=X[delta==1,],"
"0","               # data for uncensored subjects"
"0","               y_o=survt[delta==0], X_o=X[delta==0,])"
